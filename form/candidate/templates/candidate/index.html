<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    {% load staticfiles %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Анкета кандидата</title>

    <link href="{% static 'candidate/css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- <link href="{% static 'candidate/css/bootstrap-datepicker.min.css' %}" rel="stylesheet"> -->
    <link href="{% static 'candidate/css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet">

    <link href="{% static 'candidate/css/form.css' %}" rel="stylesheet">


    <script type="text/javascript" src="{% static 'candidate/js/jquery.js' %}"></script>
    <!-- <script type="text/javascript" src="{% static 'candidate/js/bootstrap-datepicker.min.js' %}"></script> -->
    <!-- <script type="text/javascript" src="{% static 'candidate/js/bootstrap-datepicker.ru.min.js' %}"></script> -->

    <script type="text/javascript" src="{% static 'candidate/js/bootstrap-datetimepicker.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'candidate/js/bootstrap-datetimepicker.ru.js' %}"></script>



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <script>
      function fillDay(select_id){
        for (var i = 1; i <= 31; i++) {
          $(select_id).append('<option value="">' + i + '</option>');
        }
      }


      function fillMonth(select_id){
        var arr_Month = [
          "Январь","Февраль","Март", "Апрель", "Май", "Июнь",
          "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"];
        for (var i = 0; i < 12; i++) {
            $(select_id).append('<option value="">' + arr_Month[i] + '</option>');
        }
      }


      function fillYear(select_id, min_age, max_age){
        var current_year = (new Date).getFullYear();
        for (var i = current_year - max_age; i <= current_year - min_age; i++) {
          $(select_id).append('<option value="">' + i + '</option>');
        }
      }


      function addEducation(){
         alert("123");

      }

      var block_id_map = new Map();


      function addBlock(source, destination){

          if (block_id_map.get(source)) {
            old_id = block_id_map.get(source);
            block_id_map.set(source, old_id + 1);
          }
          else {
            block_id_map.set(source, 2);
          }

          var block = $(source).clone();
          console.log($(block));
          block.attr("id", $(source).attr("id") + block_id_map.get(source));
          // block.children().each(function(){
          //   $(this).children().each(function(){
          //     var current_id = $(this).attr("id");
          //     $(this).attr("id", current_id + block_id_map.get(source));
          //     $(this).val("");
          //   });
          // });

          block.find("*").each(function(){
              var current_id = $(this).attr("id");
              var current_for = $(this).attr("for");

              if (current_id) {
                $(this).attr("id", current_id + block_id_map.get(source));
                $(this).val("");
              }

              if (current_for) {
                $(this).attr("for", current_for + block_id_map.get(source));
              }

          });

          $(destination).append(block);

      }


      function addDateTimePicker(){
        $('input[name*=start_date], input[name*=end_date]').datetimepicker({
          format: "MM yyyy",
          weekStart: 1,
          startView: 4,
          minView: 3,
          language: "ru",
          autoclose: true
         });
      }


      $(document).ready(function(){
          fillDay("#birth_day");
          fillMonth("#birth_month");
          fillYear("#birth_year", 14, 75);

          $("#addr").hide();


          $("#hide").click(function(){
              $("#addr").hide(500);
          });

          $("#show").click(function(){
              $("#addr").show(500);
              $("#addr").focus();
          });


          // $("#quant_children").hide();
          //
          // $("#hide_children").click(function(){
          //     $("#quant_children").hide(500);
          // });

          // $("#show_children").click(function(){
          //     $("#quant_children").show(500);
          //     $("#quant_children").focus();
          // });


          $('#id_passp_date').datetimepicker({
            format: "dd.mm.yyyy",
            weekStart: 1,
            startView: 4,
            minView: 2,
            language: "ru",
            autoclose: true,
          });


          $('#id_start').datetimepicker({
            format: "dd.mm.yyyy",
            weekStart: 1,
            startView: 2,
            minView: 2,
            language: "ru",
            autoclose: true,
            startDate: new Date()
          });


          $('#id_birthday').datetimepicker({
            format: "dd.mm.yyyy",
            weekStart: 1,
            startView: 4,
            minView: 2,
            language: "ru",
            autoclose: true,
            startDate: "-80y",
            endDate: "-14y",

          });



          addDateTimePicker();

          $("#add_education").click(function() {

            addBlock("#education_block", "#education_div");
            addDateTimePicker();
          });



          $("#add_exp").click(function() {

            addBlock("#exp_block", "#exp_div");
            addDateTimePicker();
          });

      });
    </script>
  </head>
<body style="padding-bottom:400px;">

  <div class="page-header">
        <h1 class="text-center">Анкета кандидата</h1>
  </div>

<div class="col-sm-offset-3 col-sm-6 col-sm-offset-3" style="margin-bottom: 100px">
  <div class="alert alert-warning">
    <p><strong>Внимание!</strong> Все пункты обязательны для заполнения.</p>
    <p>Мы не гарантируем Вам трудоустройство, но Ваша анкета будет храниться в
      нашем кадровом банке, и мы обязательно свяжемся с Вами, если увидим в Вас
       потенциального кандидата на конкретную вакансию.
    </p>
  </div>

<div class="row">

  {% load bootstrap3 %}

</div>
  <form name="form1" action="{% url 'candidate:index' %}" method="post" autocomplete="off" id="mainForm">
            {% csrf_token %}

                <div class="panel panel-primary">
                  <div class="panel-heading">Личные данные</div>
                  <div class="panel-body">
                    {% bootstrap_field form.position %}
                    {% bootstrap_field form.full_name %}
                    <div class="row">
                    <div class="col-sm-5">
                      {% bootstrap_field form.birthday %}

                      <!-- <div class="form-group">
                        <label class="control-label" for="id_birthday">Дата рождения</label>
                        <fieldset class="form-inline">
                          <select class="form-control" id="birth_day" name="birth" onchange="date_assemble(this.id)">
                              <option value="1" disabled selected>День</option>
                          </select>
                          <select class="form-control" id="birth_month" name="birth" onchange="date_assemble(this.id)">
                              <option value="1" disabled selected>Месяц</option>
                          </select>
                          <select class="form-control" id="birth_year" name="birth" onchange="date_assemble(this.id)">
                              <option value="1" disabled selected>Год</option>
                          </select>

                        </fieldset>
                        <input type="text" id="id_birthday" name="birthday" value="" hidden>
                      </div> -->


                    </div>

                      <div class="col-sm-4">
                      {% bootstrap_field form.gender %}
                      </div>

                    </div>
                  </div>
                </div>

                <div class="panel panel-primary">
                  <div class="panel-heading">Адреса</div>
                  <div class="panel-body">
                    {% bootstrap_field form.registration %}
                    <label class="control-label" for="id_birthday">Адрес проживания</label>
                    как в прописке?
                    <div class="form-group">
                      <label><input type="radio" name="resid" id="hide" checked> Да</label>
                      <label><input type="radio" name="resid" id="show"> Нет</label>
                    </div>
                    <textarea name="residence" class="form-control" id="addr" placeholder="Адрес проживания" rows="10"></textarea>
                  </div>
                </div>

                <div class="panel panel-primary">
                  <div class="panel-heading">Контакты</div>
                  <div class="panel-body">
                    {% bootstrap_field form.phone %}
                  </div>
                </div>

                <div class="panel panel-primary">
                  <div class="panel-heading">Семья</div>
                  <div class="panel-body">
                    {% bootstrap_field form.civil_status %}

                    <!-- <label class="control-label" for="id_birthday">Дети</label>
                    <div class="form-group">
                      <label><input type="radio" name="children" id="hide_children" checked> Нет</label>
                      <label><input type="radio" name="children" id="show_children"> Есть</label>
                    </div> -->
                    <div id="quant_children">
                      {% bootstrap_field form.quant_children %}
                    </div>
                  </div>
                </div>


                <div class="panel panel-primary">
                  <div class="panel-heading">Паспорт</div>
                  <div class="panel-body">
                    {% bootstrap_field form.passp_number %}
                    {% bootstrap_field form.passp_issue %}
                    {% bootstrap_field form.passp_date %}
                  </div>
                </div>


                <div class="panel panel-primary">
                  <div class="panel-heading">Образование и специальность</div>
                  <div class="panel-body">
                    <div class="alert alert-warning">
                      Укажите учебные заведения, курсы, семинары, стажировки, которые Вы окончили
                    </div>
                    <div id="education_div">
                      <fieldset id="education_block">
                        {% bootstrap_field formEdu.start_date %}
                        {% bootstrap_field formEdu.end_date %}
                        {% bootstrap_field formEdu.name_institute %}
                        {% bootstrap_field formEdu.qualification %}

                        <hr />
                        <!-- <input id="id_realdate" name="realdate" /> -->
                      </fieldset>
                    </div>
                    <input id="add_education" type="button" class="btn btn-info" value="Добавить еще учебное заведение" />

                  </div>
                </div>



                <div class="panel panel-primary">
                  <div class="panel-heading">Опыт работы</div>
                  <div class="panel-body">
                    <div class="alert alert-warning">
                      Опишите все предыдущие места работы, начиная с последнего или нынешнего места работы
                    </div>
                    <div id="exp_div">
                      <fieldset id="exp_block">
                        {% bootstrap_form formExp %}

                        <hr />
                        <!-- <input id="id_realdate" name="realdate" /> -->
                      </fieldset>
                    </div>
                    <input id="add_exp" type="button" class="btn btn-info" value="Добавить еще место работы" />

                  </div>
                </div>



                <div class="panel panel-primary">
                  <div class="panel-heading">Дополнительные сведения</div>
                  <div class="panel-body">
                    {% bootstrap_field form.army %}
                    {% bootstrap_field form.army_id %}
                    {% bootstrap_field form.driver_lic %}
                    {% bootstrap_field form.car %}

                    {% bootstrap_field form.advantage %}
                    {% bootstrap_field form.disadvantage %}
                    {% bootstrap_field form.convicted %}
                    {% bootstrap_field form.illness %}
                    {% bootstrap_field form.salary %}

                  </div>
                </div>




                <div class="panel panel-primary">
                  <div class="panel-heading">Рекомендатели</div>
                  <div class="panel-body">
                    <div class="alert alert-warning">
                      Укажите 2-х человек, которые могли бы Вас рекомендовать
                    </div>
                    <label class="control-label">1 рекомендатель</label>
                    {% bootstrap_field form.ref1_full_name %}
                    {% bootstrap_field form.ref1_position %}
                    {% bootstrap_field form.ref1_workplace %}
                    {% bootstrap_field form.ref1_phone %}
                    <hr />
                    <label class="control-label">2 рекомендатель</label>
                    {% bootstrap_field form.ref2_full_name %}
                    {% bootstrap_field form.ref2_position %}
                    {% bootstrap_field form.ref2_workplace %}
                    {% bootstrap_field form.ref2_phone %}

                  </div>
                </div>



                <div class="panel panel-primary">
                  <div class="panel-heading">Прочее</div>
                  <div class="panel-body">
                    {% bootstrap_field form.source_about_as %}
                    {% bootstrap_field form.add_details %}
                    {% bootstrap_field form.start %}


                  </div>
                </div>




                <div class="alert alert-info">
                  Я понимаю, что любое неправильное предоставление информации,
                      либо неточности в данной анкете, могут привести к отказу в приеме на работу.
                      Я несу полную ответственность за достоверность всей информации, указанной в анкете,
                      и понимаю, что недостоверность информации может стать причиной моего дальнейшего увольнения
                    <div class="form-group">
                      <label><input type="checkbox" required /> Да</label>
                    </div>
                </div>



                <input type="submit" class="btn btn-success" id="sub_button" value="Отправить"/>
    </form>
</div>





</body>
</html>
